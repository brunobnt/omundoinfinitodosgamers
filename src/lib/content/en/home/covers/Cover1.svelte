<script>
	import { onMount, createEventDispatcher } from 'svelte';

	let mounted = false;

	onMount(() => {
		mounted = true;
	});

	const dispatch = createEventDispatcher();

	function sendClick(e) {
		e.stopPropagation();
		dispatch('click', e);
	}

	function start(e) {
		e.stopPropagation();
		dispatch('start', e);
	}

	let timer = 0;
	$: timerString = new Date(timer * 1000).toISOString().substring(14, 19);
	let interval;
	let score = Math.floor(Math.random() * 9999) + 1;

	function startTimer() {
		interval = setInterval(() => {
			timer += 1;
		}, 1000);
	}

	startTimer();
</script>

<div
	id="background"
	class="w-full h-full overflow-hidden absolute"
	role="button"
	tabindex="0"
	on:click={sendClick}
	on:keydown={sendClick}
>
	<div id="sliding-background" class="h-full aspect-[5] absolute bottom-0 left-0" />
</div>
<div
	id="content "
	class="flex flex-col justify-start p-10 px-6 w-full h-full pointer-events-none
            lg:px-12 transition-all"
>
	<div
		id="top-stats"
		class="flex flex-row justify-between flex-wrap mt-8 text-xl md:mt-0 lg:text-2xl"
	>
		<a class="top-text pointer-events-auto" href="http://talkdigital.co" target="_blank">
			A Live + Talk<br />
			partnership
			<!-- {score.toString().padStart(8, '0')} -->
		</a>
		<a class="top-text pointer-events-auto" href="http://odd.studio" target="_blank">
			Design by <br /> Odd.Studio
		</a>
		<p class="top-text">
			Time <br />
			{timerString}
		</p>
		<p class="top-text">
			World <br />
			1-1
		</p>
		<p class="top-text">
			{#if mounted}
				Click to <br />
				switch games
			{/if}
		</p>
	</div>
	<div id="block" class=" max-w-xl my-4 relative transition-all md:ml-[10%] md:mt-24">
		<div class="p-6">
			<div>
				<svg
					width="100%"
					height={132}
					viewBox="0 0 713 132"
					fill="none"
					xmlns="http://www.w3.org/2000/svg"
				>
					<path
						d="M3.52319 4.99426H48.3727L46.5884 21.102L32.0388 19.3504L32.6222 60.7704H14.5726L18.4845 17.908L3.52319 16.1564V4.99426Z"
						fill="black"
					/>
					<path
						d="M50.8434 7.36406L67.692 9.87124L68.1038 24.5365L80.2169 26.7002L80.6287 5.20033L97.8891 8.32572L93.9772 60.8734H81.0405L79.5992 42.3272L67.4861 39.7857L66.6626 59.4996L53.3141 60.8734L50.8434 7.36406Z"
						fill="black"
					/>
					<path
						d="M100.566 5.99027L140.577 5.20033L134.846 20.2434L117.86 19.5222L116.316 25.9447L138.14 26.4255L136.15 37.4502L116.419 39.0644L117.998 47.2729L142.19 43.2888L142.704 57.9198L102.419 60.9765L100.566 5.99027Z"
						fill="black"
					/>
					<path
						d="M179.215 60.7704L181.137 5.20033L197.608 5.4064L200.388 60.7704H179.215Z"
						fill="black"
					/>
					<path
						d="M201.417 60.9765L210.236 5.16599L224.271 5.44075L231.134 20.6555L233.742 5.20033L247.365 5.13164L245.958 59.9805L230.207 60.7704L220.633 35.5269L219.158 60.9765H201.417Z"
						fill="black"
					/>
					<path
						d="M249.973 5.99027L289.984 5.20033L284.253 20.2434L267.267 19.5222L265.723 25.9447L281.92 24.1244L280.135 39.0988L265.826 39.0644L268.468 60.5987L251.826 60.9765L249.973 5.99027Z"
						fill="black"
					/>
					<path
						d="M292.111 60.7704L294.033 5.20033L310.504 5.4064L313.284 60.7704H292.111Z"
						fill="black"
					/>
					<path
						d="M314.313 60.9765L323.132 5.16599L337.167 5.44075L344.03 20.6555L346.638 5.20033L360.261 5.13164L358.854 59.9805L343.103 60.7704L333.529 35.5269L332.054 60.9765H314.313Z"
						fill="black"
					/>
					<path
						d="M362.663 60.7704L364.584 5.20033L381.055 5.4064L383.835 60.7704H362.663Z"
						fill="black"
					/>
					<path
						d="M385.242 4.99426H430.091L428.307 21.102L413.757 19.3504L414.341 60.7704H396.291L400.203 17.908L385.242 16.1564V4.99426Z"
						fill="black"
					/>
					<path
						d="M432.665 5.99027L472.676 5.20033L466.945 20.2434L449.96 19.5222L448.415 25.9447L470.24 26.4255L468.249 37.4502L448.518 39.0644L450.097 47.2729L474.289 43.2888L474.804 57.9198L434.518 60.9765L432.665 5.99027Z"
						fill="black"
					/>
					<path
						d="M17.1805 75.56L24.0092 110.317L33.583 98.0215L39.4165 106.436L44.4951 77.8611L59.6966 83.5967L49.2649 131.233H39.0048L33.1369 120.105L23.9748 131.233H11.5186L3.21436 79.647L17.1805 75.56Z"
						fill="black"
					/>
					<path
						d="M63.8144 86.3443L77.8492 75.3539L98.2322 78.0671L111.306 95.0679L109.831 119.934L80.766 131.13L62.6134 111.863L63.8144 86.3443ZM80.663 101.525L82.7562 107.432L87.7319 106.986L89.8251 103.139L84.6778 98.7771L80.663 101.525Z"
						fill="black"
					/>
					<path
						d="M114.086 130.203L115.355 76.4529L140.611 75.56L154.955 85.7947L152.312 104.444L142.636 107.569L158.283 123.128L144.866 131.508L131.449 113.786L131.037 130.203H114.086ZM131.243 97.7124L133.302 98.5711L137.351 95.1366L131.415 90.1222L131.243 97.7124Z"
						fill="black"
					/>
					<path
						d="M160.617 129.138L161.646 75.56L177.98 76.6247L175.098 117.426L201.143 116.946L196.819 131.13L160.617 129.138Z"
						fill="black"
					/>
					<path
						d="M203.51 77.552L232.403 75.56L244.482 89.7444L244.757 112.893L231.511 130.237L205.809 131.13L203.51 77.552ZM219.981 97.472L219.535 110.008L225.781 107.672V99.7731L219.981 97.472Z"
						fill="black"
					/>
					<path
						d="M282.469 86.3443L296.504 75.3539L316.887 78.0671L329.961 95.0679L328.485 119.934L299.42 131.13L281.268 111.863L282.469 86.3443ZM299.317 101.525L301.411 107.432L306.386 106.986L308.479 103.139L303.332 98.7771L299.317 101.525Z"
						fill="black"
					/>
					<path
						d="M332.74 76.3499L372.751 75.56L367.021 90.603L350.035 89.8818L348.491 96.3043L364.687 94.484L362.903 109.458L348.594 109.424L351.236 130.958L334.593 131.336L332.74 76.3499Z"
						fill="black"
					/>
					<path
						d="M439.751 131.783L436.388 124.433L428.804 130.341L409.863 117.255L408.936 88.5772L415.284 77.5525L439.03 75.6292L453.339 84.4215L445.516 101.113L431.927 92.4239L424.755 104.101L430.486 111.966L437.177 111.588L437.212 104.41L455.261 103.002L455.467 119.453L450.183 119.007L451.315 128.795L439.751 131.783Z"
						fill="black"
					/>
					<path
						d="M496.405 131.405L494.208 122.888L478.286 114.37L473.517 125.567L458.041 119.316L483.502 75.8353L498.91 80.094L513.974 131.405H496.405ZM483.708 102.212L490.503 103.723L489.507 94.0724L483.708 102.212Z"
						fill="black"
					/>
					<path
						d="M516.719 131.611L526.362 75.8009L539.573 76.0757L544.343 84.8336L548.803 78.1364L560.608 81.1931L573.785 128.108L557.348 131.096L558.24 119.762L553.47 106.814L543.416 117.187L535.935 104.307L534.46 131.611H516.719Z"
						fill="black"
					/>
					<path
						d="M576.942 76.6252L616.953 75.8353L611.222 90.8783L594.236 90.1571L592.692 96.5796L614.516 97.0604L612.526 108.085L592.795 109.699L594.374 117.908L618.566 113.924L619.08 128.555L578.795 131.611L576.942 76.6252Z"
						fill="black"
					/>
					<path
						d="M621.482 130.478L622.752 76.7282L648.008 75.8353L662.351 86.07L659.709 104.719L650.032 107.845L665.68 123.403L652.263 131.783L638.846 114.061L638.434 130.478H621.482ZM638.64 97.9877L640.699 98.8464L644.748 95.4119L638.811 90.3975L638.64 97.9877Z"
						fill="black"
					/>
					<path
						d="M668.219 122.956L686.166 113.924L668.219 98.7777L681.122 76.11L702.362 75.9039L713 88.7833L702.603 98.9837L691.039 90.2601L686.715 96.7857L710.358 110.764L704.97 124.227L681.087 131.611L668.219 122.956Z"
						fill="black"
					/>
					<path
						d="M0.308834 0.97644H45.1584L43.374 17.0842L28.8245 15.3326L29.4078 56.7526H11.3582L15.2701 13.8901L0.308834 12.1385V0.97644Z"
						fill="#FCC3BE"
					/>
					<path
						d="M47.629 3.34624L64.4776 5.85342L64.8894 20.5187L77.0026 22.6824L77.4143 1.18251L94.6747 4.3079L90.7628 56.8556H77.8261L76.3849 38.3094L64.2718 35.7678L63.4482 55.4818L50.0997 56.8556L47.629 3.34624Z"
						fill="#FCC3BE"
					/>
					<path
						d="M97.3513 1.97244L137.362 1.18251L131.632 16.2256L114.646 15.5043L113.102 21.9268L134.926 22.4077L132.936 33.4324L113.205 35.0466L114.783 43.255L138.975 39.271L139.49 53.902L99.2043 56.9586L97.3513 1.97244Z"
						fill="#FCC3BE"
					/>
					<path
						d="M176.001 56.7526L177.923 1.18251L194.394 1.38858L197.173 56.7526H176.001Z"
						fill="#FCC3BE"
					/>
					<path
						d="M198.203 56.9586L207.022 1.14816L221.056 1.42292L227.919 16.6377L230.527 1.18251L244.15 1.11382L242.743 55.9626L226.993 56.7526L217.419 31.5091L215.943 56.9586H198.203Z"
						fill="#FCC3BE"
					/>
					<path
						d="M246.758 1.97244L286.769 1.18251L281.039 16.2256L264.053 15.5043L262.509 21.9268L278.705 20.1066L276.921 35.0809L262.612 35.0466L265.254 56.5809L248.611 56.9586L246.758 1.97244Z"
						fill="#FCC3BE"
					/>
					<path
						d="M288.897 56.7526L290.819 1.18251L307.29 1.38858L310.069 56.7526H288.897Z"
						fill="#FCC3BE"
					/>
					<path
						d="M311.099 56.9586L319.918 1.14816L333.952 1.42292L340.815 16.6377L343.423 1.18251L357.046 1.11382L355.639 55.9626L339.889 56.7526L330.315 31.5091L328.839 56.9586H311.099Z"
						fill="#FCC3BE"
					/>
					<path
						d="M359.448 56.7526L361.37 1.18251L377.841 1.38858L380.621 56.7526H359.448Z"
						fill="#FCC3BE"
					/>
					<path
						d="M382.027 0.97644H426.877L425.093 17.0842L410.543 15.3326L411.126 56.7526H393.077L396.989 13.8901L382.027 12.1385V0.97644Z"
						fill="#FCC3BE"
					/>
					<path
						d="M429.451 1.97244L469.462 1.18251L463.731 16.2256L446.745 15.5043L445.201 21.9268L467.025 22.4077L465.035 33.4324L445.304 35.0466L446.883 43.255L471.074 39.271L471.589 53.902L431.304 56.9586L429.451 1.97244Z"
						fill="#FCC3BE"
					/>
					<path
						d="M13.9662 71.5421L20.7948 106.299L30.3687 94.0037L36.2022 102.418L41.2808 73.8433L56.4823 79.5788L46.0506 127.215H35.7904L29.9226 116.087L20.7605 127.215H8.3042L0 75.6292L13.9662 71.5421Z"
						fill="#FCC3BE"
					/>
					<path
						d="M60.6001 82.3264L74.6348 71.3361L95.0179 74.0493L108.092 91.0501L106.616 115.916L77.5516 127.112L59.399 107.845L60.6001 82.3264ZM77.4487 97.5069L79.5419 103.414L84.5175 102.968L86.6107 99.1211L81.4635 94.7593L77.4487 97.5069Z"
						fill="#FCC3BE"
					/>
					<path
						d="M110.871 126.185L112.141 72.4351L137.397 71.5421L151.74 81.7769L149.098 100.426L139.421 103.552L155.069 119.11L141.652 127.49L128.235 109.768L127.823 126.185H110.871ZM128.029 93.6946L130.088 94.5532L134.137 91.1188L128.2 86.1044L128.029 93.6946Z"
						fill="#FCC3BE"
					/>
					<path
						d="M157.402 125.12L158.432 71.5421L174.766 72.6068L171.883 113.409L197.928 112.928L193.605 127.112L157.402 125.12Z"
						fill="#FCC3BE"
					/>
					<path
						d="M200.296 73.5341L229.189 71.5421L241.268 85.7266L241.542 108.875L228.297 126.219L202.595 127.112L200.296 73.5341ZM216.767 93.4542L216.321 105.99L222.566 103.655V95.7553L216.767 93.4542Z"
						fill="#FCC3BE"
					/>
					<path
						d="M279.254 82.3264L293.289 71.3361L313.672 74.0493L326.746 91.0501L325.271 115.916L296.206 127.112L278.053 107.845L279.254 82.3264ZM296.103 97.5069L298.196 103.414L303.172 102.968L305.265 99.1211L300.118 94.7593L296.103 97.5069Z"
						fill="#FCC3BE"
					/>
					<path
						d="M329.526 72.3321L369.537 71.5421L363.806 86.5852L346.82 85.864L345.276 92.2865L361.473 90.4662L359.688 105.441L345.379 105.406L348.021 126.94L331.379 127.318L329.526 72.3321Z"
						fill="#FCC3BE"
					/>
					<path
						d="M436.536 127.765L433.174 120.415L425.59 126.323L406.648 113.237L405.722 84.5594L412.07 73.5347L435.816 71.6114L450.125 80.4037L442.301 97.0953L428.713 88.406L421.541 100.083L427.271 107.948L433.963 107.57L433.997 100.392L452.047 98.9843L452.253 115.435L446.968 114.989L448.101 124.777L436.536 127.765Z"
						fill="#FCC3BE"
					/>
					<path
						d="M493.19 127.388L490.994 118.87L475.072 110.352L470.302 121.549L454.826 115.298L480.288 71.8174L495.695 76.0762L510.759 127.388H493.19ZM480.494 98.1943L487.288 99.7055L486.293 90.0546L480.494 98.1943Z"
						fill="#FCC3BE"
					/>
					<path
						d="M513.505 127.594L523.147 71.7831L536.358 72.0579L541.128 80.8158L545.589 74.1185L557.393 77.1752L570.57 124.09L554.134 127.078L555.026 115.745L550.256 102.797L540.202 113.169L532.721 100.289L531.245 127.594H513.505Z"
						fill="#FCC3BE"
					/>
					<path
						d="M573.727 72.6074L613.738 71.8174L608.008 86.8605L591.022 86.1393L589.478 92.5618L611.302 93.0426L609.312 104.067L589.581 105.682L591.159 113.89L615.351 109.906L615.866 124.537L575.58 127.594L573.727 72.6074Z"
						fill="#FCC3BE"
					/>
					<path
						d="M618.268 126.46L619.538 72.7104L644.793 71.8174L659.137 82.0522L656.495 100.702L646.818 103.827L662.466 119.385L649.048 127.765L635.631 110.043L635.22 126.46H618.268ZM635.425 93.9699L637.484 94.8285L641.534 91.394L635.597 86.3797L635.425 93.9699Z"
						fill="#FCC3BE"
					/>
					<path
						d="M665.005 118.939L682.952 109.906L665.005 94.7598L677.907 72.0922L699.148 71.8861L709.786 84.7655L699.388 94.9659L687.824 86.2423L683.501 92.7678L707.144 106.746L701.756 120.209L677.873 127.594L665.005 118.939Z"
						fill="#FCC3BE"
					/>
				</svg>
			</div>
			<h3 class="title-subtext text-lg my-1 md:my-3">A study of game consumers in Brazil</h3>
			<p class="title-subtext text-base">
				Dive into the complexity of this universe, get to know the profiles of gamers and understand
				how brands can be more relevant
			</p>
		</div>
		<div class="rivet w-1 h-1 top-2 left-2" />
		<div class="rivet w-1 h-1 top-2 right-2" />
		<div class="rivet w-1 h-1 bottom-2 left-2" />
		<div class="rivet w-1 h-1 bottom-2 right-2" />
	</div>
	<div class="flex flex-row justify-between mt-14 md:ml-[10%] md:mt-32 transition-all">
		<button
			class="start mt-7 p-2 gap-2 text-xl flex flex-row justify-around flex-nowrap items-center pointer-events-auto"
			on:click={start}
		>
			<svg
				xmlns="http://www.w3.org/2000/svg"
				width="24"
				height="28"
				viewBox="0 0 24 28"
				fill="none"
			>
				<path
					d="M23.6903 14.1328L0.924823 27.2765L0.924824 0.989141L23.6903 14.1328Z"
					fill="white"
				/>
			</svg>
			Start
		</button>
	</div>
</div>

<style>
	@keyframes slide {
		0% {
			transform: translate3d(0, 0, 0);
		}
		100% {
			transform: translate3d(-50%, 0, 0);
		}
	}

	* {
		z-index: 100;
	}

	#background {
		background-color: #2dbdee;
		height: 100%;
		width: 100%;
	}

	#sliding-background {
		animation: slide 20s linear infinite;
		background-image: url('$lib/assets/backgrounds/covers/bg-cover-1.png');
		background-position: center center;
		background-repeat: repeat-x;
		background-size: cover;
		z-index: 1;
	}

	#block {
		background: #d54b00;
		border-color: #fff #000 #000 #fff;
		border-style: outset;
		border-width: 0.2rem;
	}

	.top-text {
		color: #0b8bb7;
		font-family: 'VT323', monospace;
		font-weight: 400;
		padding: 0.5rem;
		padding-top: 0rem;
		text-transform: uppercase;
		white-space: nowrap;
	}

	.title-subtext {
		color: #000;
		font-family: 'VT323', monospace;
		font-weight: 400;
		line-height: 120%;
	}

	.rivet {
		background: #fcc3be;
		border-color: #fff #000 #000 #fff;
		border-style: outset;
		border-width: 0.1rem;
		position: absolute;
	}

	.start {
		background: #d54b00;
		border-color: #fff #000 #000 #fff;
		border-style: outset;
		border-width: 0.2rem;
		color: #fff;
		font-family: 'VT323', monospace;
		font-size: 1.8rem;
		text-transform: uppercase;
	}
</style>
